简单数据类型用value

引用数据类型用ref

## setter注入

在类里写好set方法,然后配置bean格式

```java
    private  int num;
    private String name;

    public void setName(String name) {
        this.name = name;
    }

    public void setNum(int num) {
        this.num = num;
    }
```



```java
  <bean id="bookdao" class="example.dao.impl.BookDaoImpl">
        <property name="name" value="zzy"></property>
        <property name="num" value="123"></property>
  </bean>

```

## 构造器注入

在类里写好构造方法,配置bean格式

```java
  	private int num;
    private String name;

    public BookDaoImpl(int num, String name) {
        this.num = num;
        this.name = name;
    }
```

```java
//标准书写
<bean id="bookdao" class="example.dao.impl.BookDaoImpl">
	<constructor-arg name="name" value="zzy" ></constructor-arg>
	<constructor-arg name="num" value="13"></constructor-arg>
</bean>

    
//用类型解决高耦合读问题
<bean id="bookdao" class="example.dao.impl.BookDaoImpl">
<constructor-arg type="java.lang.String" value="zzy" >	</constructor-arg>
<constructor-arg  type="int" value="13"></constructor-arg>
</bean>
    
    
    
 //使用参数位置解决参数匹配
<bean id="bookdao" class="example.dao.impl.BookDaoImpl">
	<constructor-arg index="0" value="zzy" ></constructor-arg>
	<constructor-arg  index="1" value="13"></constructor-arg>
</bean>
    
    
```



## 自动装配注入(只对引用类型的依赖注入)

写set方法,配置bean格式

可以按类型装配或者按名称装配byname,最好用按类型装配

```Java
<bean id="bookservice" name="service" class="example.service.impl.BookServiceImpl" autowire="byType">
</bean>
```



## 集合注入

写set方法,配置bean

```java
    <bean id="bookdao" class="example.dao.impl.BookDaoImpl">
        <property name="array">
            <array>
                <value>100</value>
                <value>200</value>
                <value>300</value>
            </array>
        </property>
        <property name="list">
            <list>
                <value>a</value>
                <value>b</value>
                <value>c</value>
            </list>
        </property>
        <property name="map">
            <map>
                <entry key="a" value="1"></entry>
                <entry key="b" value="2"></entry>

            </map>

        </property>

        <property name="properties">
            <props>
                <prop key="a">1</prop>
                <prop key="b">2</prop>
            </props>

        </property>

    </bean>
```



```java
    private int[] array;
    private List<String> list;
    private Map<String,String> map;
    private Properties properties;


    public void setArray(int[] array) {
        this.array = array;
    }


    public void setList(List<String> list) {
        this.list = list;
    }

    public void setMap(Map<String, String> map) {
        this.map = map;
    }

    public void setProperties(Properties properties) {
        this.properties = properties;
    }

    public void save(){

        System.out.println(Arrays.toString(array));
        System.out.println(list);
        System.out.println(map);
        System.out.println(properties);

    }
```



## 加载properties文件

开启context命名空间

```java
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

​       **xmlns:context="http://www.springframework.org/schema/context"** 	//复制第一行,改成这样,表示开启context空间

       xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans.xsd


//复制上面两行链接,把bean全改成context
​   **http://www.springframework.org/schema/context  
  	 http://www.springframework.org/schema/context/spring-context.xsd**

">
  
    
 <context:property-placeholder location="jdbc.properties"/>
   //使用context空间加载jdbc.properties文件
    

```



开启后可以使用占位符$读取properties中的属性值

```java
  <bean class="com.mchange.v2.c3p0.ComboPooledDataSource">
        <property name="driverClass" value="${jdbc.dtiver}"/>
        <property name="jdbcUrl" value="${url}"/>
        <property name="user" value="${user}"/>
        <property name="password" value="${password}"/>
  </bean>
```

